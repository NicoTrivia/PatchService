<section class='patch-container-sidebar'>
    <app-sidebar [title]="user && user.id > 0 ? 'USER_FORM.TITLE_SET' : 'USER_FORM.TITLE_CREATE'"></app-sidebar>
    <div class="patch-container-large patch-no-scroll-container patch-im-bg" style="background-image: url('assets/images/bg-2.png')">
        <div class="row">
            <div class="col-6 mx-auto">
                <div class="patch-card-area patch-card-form-top" *ngIf="user">
                    <!-- Create / set user  -->
                        <div class="patch-card">
                            <div class="patch-form-title-main">
                                {{(user && user.id > 0 ? 'USER_FORM.TITLE.SET' :'USER_FORM.TITLE.CREATE') | translate}}
                            </div>
                            <div class="patch-form-group row">
                                <label for="tenant" class="col-sm-4 patch-col-form-label">
                                    {{'USER.FLD.TENANT' | translate}}&nbsp;:
                                </label>
                                <div class="col-sm-8">
                                    <p-dropdown [options]="tenantList" [(ngModel)]="tenant" optionLabel="name"  [style]="{'width':'25rem'}" [readonly]="user && user.id > 0"></p-dropdown>
                                </div>
                            </div>
                            <div class="patch-form-group row">
                                <label for="login" class="col-sm-4 patch-col-form-label">
                                    {{'USER.FLD.LOGIN' | translate}}&nbsp;:
                                </label>
                                <div class="col-sm-8">
                                    <input [disabled]="isEditPasword()" pInputText class="form-control form-control-sm" [(ngModel)]='user.login' name='login'>
                                </div>
                            </div>

                            <div *ngIf="isEditPasword() || user.id<=0" class="patch-form-group row">
                                <label for="Password" class="col-sm-4 patch-col-form-label">
                                    {{'USER.FLD.PASSWORD' | translate}}&nbsp;:
                                </label>
                                <div class="col-sm-8">
                                    {{password}}
                                    <input type="password" pPassword promptLabel="{{'USER.PASSWORD.PROMPT' | translate}}"
                                        weakLabel="{{'USER.PASSWORD.WEAK' | translate}}" mediumLabel="{{'USER.PASSWORD.MEDIUM' | translate}}"
                                        strongLabel="{{'USER.PASSWORD.STRONG' | translate}}" class="form-control form-control-sm" [(ngModel)]='password' name='Password'>
                                </div>
                            </div>
                            <div *ngIf="isEditPasword()" class="patch-form-group row">
                                <label for="Password2" class="col-sm-4 patch-col-form-label">
                                    {{'USER.FLD.PASSWORD2' | translate}}&nbsp;:
                                </label>
                                <div class="col-sm-8">
                                    <input type="password" [feedback]='false' pPassword class="form-control form-control-sm" [(ngModel)]='password2' name='Password2'>
                                </div>
                            </div>
                        </div>
                        <div class="patch-card patch-card-form-top-small">
                            <div *ngIf="!isEditPasword()" class="patch-form-group row">
                                <label for="firstname" class="col-sm-4 patch-col-form-label">
                                    {{'USER.FLD.FIRSTNAME' | translate}}&nbsp;:
                                </label>
                                <div class="col-sm-8">
                                    <input pInputText class="form-control form-control-sm" [(ngModel)]='user.firstname' name='firstname'>
                                </div>
                            </div>
                            <div *ngIf="!isEditPasword()" class="patch-form-group row">
                                <label for="lastname" class="col-sm-4 patch-col-form-label">
                                    {{'USER.FLD.NAME' | translate}}&nbsp;:
                                </label>
                                <div class="col-sm-8">
                                    <input pInputText class="form-control form-control-sm" [(ngModel)]='user.lastname' name='lastname'>
                                </div>
                            </div>
                            <div *ngIf="!isEditPasword()" class="patch-form-group row">
                                <label for="Email" class="col-sm-4 patch-col-form-label">
                                    {{'USER.FLD.EMAIL' | translate}}&nbsp;:
                                </label>
                                <div class="col-sm-8">
                                    <input pInputText class="form-control form-control-sm" [(ngModel)]='user.email' name='email'>
                                </div>
                            </div>
        
                            <div *ngIf="!isEditPasword()" class="patch-form-group row">
                                <label for="Active" class="col-sm-4 patch-col-form-label">
                                    {{'USER.FLD.ACTIVE' | translate}}&nbsp;:
                                </label>
                                <div class="col-sm-8">
                                    <p-inputSwitch [(ngModel)]="user.active" name="Active"></p-inputSwitch>
                                </div>
                            </div>
                            <div class="patch-form-buttonbar">
                                <button pButton id="btnCancelUser" class="ui-button-ps-hor p-button-rounded p-button-outlined" (click)="cancelForm()" label="{{'BTN.CANCEL' | translate}}"></button>
                                <button pButton type='submit' id="btnValidateUser" class="ui-button-ps-hor p-button-rounded" (click)="validateForm()" label="{{'BTN.VALIDATE' | translate}}"></button>
                            </div>
                        </div>
                    
                </div>
            </div>
        </div>
    </div>
</section>
